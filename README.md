# bank
## Это виджет, который показывает несколько последних успешных банковских операций клиента. Проект, который на бэкенде будет готовить данные для отображения в новом виджете.
## Установка
1. Клонируйте репозиторий:
```
git@github.com:RadmilaGMTD/bank.git
```
2. Установите зависимости:
```
poetry install
```
## Использование
1. Для того чтобы замаскировать счёт или номер карты, воспользуйтесь функцией mask_account_card (src.widget.py). Пример результата: "Visa Platinum 7000 79** **** 6361" или "Счет **4305")
2. Для того чтобы получить дату, воспользуйтесь get_date (src.widget.py).
3. Для того чтобы отсортировать словари по ключевому слову, используйте filter_by_state (src.processing.py).
4. Для того чтобы отсортировать список по дате, воспользуйтесь функцией sort_by_date (src.processing.py).
5. Для того чтобы получить поочередно транзакции, используйте функцию filter_by_currency (src.generators.py).
6. Чтобы получить описание каждой операции по очереди, воспользуйтесь transaction_descriptions (src.generators.py).
7. Чтобы получить список словарей с данными о финансовых транзакциях из Json файла, используйте file_read (src.utils.py).
8. Чтобы получить сумму транзакции или конвертировать, если валюты нет в списке, воспользуйтесь conversion (src.external.py).
9. Чтобы прочитать файлы формата csv и excel, воспользуйтесь функциями read_csv и read_excel (read_files).
## Декоратор
### Декоратор @log, который выводит логи(начало, результат, конец функции) в консоль или в файл.
## Логирование
### Из модулей utils.py и masks.py логи записываются в папке: logs, в соотвествующих файлах.
## Тестирование
### В проекте применяется фреймворк тестирования pytest. Для его использование необходимо:
1. Установить pytest:
```
poetry add --group dev pytest
```
2. Чтобы запустить тесты с оценкой покрытия:
```
pytest --cov
```
3. Отчет будет сгенерирован в папке htmlcov и храниться в файле с названием index.html.
